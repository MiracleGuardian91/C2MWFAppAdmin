<!--Header-->

<div class="P-3">
    <div class="d-flex justify-content-between flex-column flex-md-row align-items-center">  
        <div class="display-name">{{DisplayName}}</div>    
    </div>
    <div></div>
    <div class="p-1"></div>
   <!-- Hidden button group - will be shown in popup -->
  <div class="table-filters-group align-items-start" style="display: none;">
    <form [formGroup]="WFForm" class="m-0 p-0">
      <div class="button-group WFForm-Actions" style="padding: 3px 5px;">
        <select name="ChangeStatus" formControlName="CangeStatus" (change)="ChangeStatus($event)" class="btn btn-primary-special btn-small">
          <option value="-1">Change Status</option>
          <option value="1">Active</option>
          <option value="0">Inactive</option>
        </select>
        <button (click)="CreateNewVersion()" class="btn btn-primary-special btn-small" type="button">New Version</button>
        <!-- <button class="btn btn-primary-special btn-small" type="button" (click)="generateXML()">Generate JSON</button> -->
        <!-- <button class="btn btn-primary-special btn-small" type="button" (click)="ExportWF()">Export WF</button> -->
        <button class="btn btn-primary-special btn-small" type="button" (click)="OpenAdditionalPermission()">Additional Permission</button>
        <button class="btn btn-primary-special btn-small" type="button" (click)="onCompanyAssociation()">Company Association</button>
        <button class="btn btn-primary-special btn-small" type="button" (click)="OpenGridConfigStaticCol()">Grid Static Columns</button>
        <select name="ChangeMode" formControlName="ChangeMode" (change)="ChangeMode($event)" class="btn btn-primary-special btn-small">
          <option value="-1">Change Mode</option>
          <option value="Edit">Edit</option>
          <option value="Published">Published</option>
        </select>
        <button class="btn btn-primary-special btn-small" type="button" (click)="goToVersionGrid()">Live Version</button>
        <button class="btn btn-primary-special btn-small" type="button" (click)="onPublishToEnvironment()">Publish To Environment</button>
      </div>
    </form>
    <div class="export-btns-group mt-1" style="white-space: nowrap;">
      <button type="button" (click)="openBulkUpload(bulkUpload)" title="WF Upload" class="linklike">
        <i class="fas fa-edit"></i>WF Upload Excel
      </button>
      <button type="button" title="Excel" (click)="openExportGridConfigurationPopup('Excel')" class="linklike">
        <i class="far fa-file-excel" role="img" aria-label="Excel"></i>Excel
      </button>
    </div>
  </div>

  <!-- Actions Popup Menu -->
  <div class="actions-popup" *ngIf="showActionsPopup" [style.left.px]="popupPosition.x" [style.top.px]="popupPosition.y">
    <form [formGroup]="WFForm" class="m-0 p-0">
      <!-- Version Management Section -->
      <div class="popup-section">
        <div class="section-title">Version Management</div>
        <div class="popup-button" (click)="CreateNewVersion(); closeActionsPopup()">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
  <path d="M17.7143 8.07143H11.9286V2.28571C11.9286 1.57576 11.3528 1 10.6429 1H9.35714C8.64719 1 8.07143 1.57576 8.07143 2.28571V8.07143H2.28571C1.57576 8.07143 1 8.64719 1 9.35714V10.6429C1 11.3528 1.57576 11.9286 2.28571 11.9286H8.07143V17.7143C8.07143 18.4242 8.64719 19 9.35714 19H10.6429C11.3528 19 11.9286 18.4242 11.9286 17.7143V11.9286H17.7143C18.4242 11.9286 19 11.3528 19 10.6429V9.35714C19 8.64719 18.4242 8.07143 17.7143 8.07143Z" fill="black"/>
</svg>
          <span>New Version</span>
        </div>
        <div class="popup-button" (click)="onPublishToEnvironment(); closeActionsPopup()">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="10" viewBox="0 0 20 10" fill="none">
  <path d="M14.7219 0C12.6562 0 11.0406 1.29063 10 2.45625C8.95938 1.29063 7.34375 0 5.27812 0C2.36875 0 0 2.24375 0 5C0 7.75625 2.36875 10 5.27812 10C7.34375 10 8.95938 8.70937 10 7.54375C11.0406 8.70937 12.6562 10 14.7219 10C17.6313 10 20 7.75625 20 5C20 2.24375 17.6313 0 14.7219 0ZM5.27812 7C4.02187 7 3 6.10313 3 5C3 3.89687 4.02187 3 5.27812 3C6.47187 3 7.57187 4.12813 8.21562 5C7.57812 5.8625 6.46875 7 5.27812 7ZM14.7219 7C13.5281 7 12.4281 5.87187 11.7844 5C12.4219 4.1375 13.5312 3 14.7219 3C15.9781 3 17 3.89687 17 5C17 6.10313 15.9781 7 14.7219 7Z" fill="black"/>
</svg>
          <span>Publish To Environment</span>
        </div>
      </div>

      <!-- Manage Access Section -->
      <div class="popup-section">
        <div class="section-title">Manage Access</div>
        <div class="popup-button" (click)="onCompanyAssociation(); closeActionsPopup()">
          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16" fill="none">
  <path d="M13.625 15H13V0.75C13 0.335781 12.6642 0 12.25 0H1.75C1.33578 0 1 0.335781 1 0.75V15H0.375C0.167906 15 0 15.1679 0 15.375V16H14V15.375C14 15.1679 13.8321 15 13.625 15ZM4 2.375C4 2.16791 4.16791 2 4.375 2H5.625C5.83209 2 6 2.16791 6 2.375V3.625C6 3.83209 5.83209 4 5.625 4H4.375C4.16791 4 4 3.83209 4 3.625V2.375ZM4 5.375C4 5.16791 4.16791 5 4.375 5H5.625C5.83209 5 6 5.16791 6 5.375V6.625C6 6.83209 5.83209 7 5.625 7H4.375C4.16791 7 4 6.83209 4 6.625V5.375ZM5.625 10H4.375C4.16791 10 4 9.83209 4 9.625V8.375C4 8.16791 4.16791 8 4.375 8H5.625C5.83209 8 6 8.16791 6 8.375V9.625C6 9.83209 5.83209 10 5.625 10ZM8 15H6V12.375C6 12.1679 6.16791 12 6.375 12H7.625C7.83209 12 8 12.1679 8 12.375V15ZM10 9.625C10 9.83209 9.83209 10 9.625 10H8.375C8.16791 10 8 9.83209 8 9.625V8.375C8 8.16791 8.16791 8 8.375 8H9.625C9.83209 8 10 8.16791 10 8.375V9.625ZM10 6.625C10 6.83209 9.83209 7 9.625 7H8.375C8.16791 7 8 6.83209 8 6.625V5.375C8 5.16791 8.16791 5 8.375 5H9.625C9.83209 5 10 5.16791 10 5.375V6.625ZM10 3.625C10 3.83209 9.83209 4 9.625 4H8.375C8.16791 4 8 3.83209 8 3.625V2.375C8 2.16791 8.16791 2 8.375 2H9.625C9.83209 2 10 2.16791 10 2.375V3.625Z" fill="black"/>
</svg>
          <span>Company Access</span>
        </div>
        <!-- <div class="popup-button" (click)="OpenAdditionalPermission();">
          <i class="fas fa-user-shield"></i>
          <span>Additional Permission</span>
        </div> -->
        <div class="popup-button" (click)="CreateWFRoles(); closeActionsPopup()">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="14" viewBox="0 0 20 14" fill="none">
  <path d="M19.0801 9.66466C19.1614 9.22393 19.1614 8.77383 19.0801 8.33311L19.8865 7.86738C19.9802 7.81424 20.0209 7.70484 19.9896 7.6017C19.7802 6.92655 19.4208 6.31391 18.952 5.80755C18.8801 5.7294 18.7645 5.71065 18.6707 5.76379L17.8644 6.22952C17.5237 5.93883 17.1331 5.71378 16.7111 5.56374V4.63228C16.7111 4.52601 16.6361 4.43224 16.533 4.41036C15.836 4.25408 15.1266 4.26033 14.464 4.41036C14.3609 4.43224 14.2859 4.52601 14.2859 4.63228V5.56374C13.864 5.71378 13.4733 5.93883 13.1326 6.22952L12.3263 5.76379C12.2357 5.71065 12.1169 5.7294 12.045 5.80755C11.5762 6.31391 11.2168 6.92655 11.0074 7.6017C10.9762 7.70484 11.0199 7.81424 11.1105 7.86738L11.9169 8.33311C11.8356 8.77383 11.8356 9.22393 11.9169 9.66466L11.1105 10.1304C11.0168 10.1835 10.9762 10.2929 11.0074 10.3961C11.2168 11.0712 11.5762 11.6807 12.045 12.1902C12.1169 12.2684 12.2325 12.2871 12.3263 12.234L13.1326 11.7683C13.4733 12.0589 13.864 12.284 14.2859 12.434V13.3655C14.2859 13.4718 14.3609 13.5655 14.464 13.5874C15.161 13.7437 15.8704 13.7374 16.533 13.5874C16.6361 13.5655 16.7111 13.4718 16.7111 13.3655V12.434C17.1331 12.284 17.5237 12.0589 17.8644 11.7683L18.6707 12.234C18.7614 12.2871 18.8801 12.2684 18.952 12.1902C19.4208 11.6839 19.7802 11.0712 19.9896 10.3961C20.0209 10.2929 19.9771 10.1835 19.8865 10.1304L19.0801 9.66466ZM15.5016 10.5148C14.664 10.5148 13.9859 9.83344 13.9859 8.99888C13.9859 8.16432 14.6672 7.48292 15.5016 7.48292C16.3361 7.48292 17.0174 8.16432 17.0174 8.99888C17.0174 9.83344 16.3392 10.5148 15.5016 10.5148ZM3.00032 5.99821C4.10356 5.99821 5.00053 5.10114 5.00053 3.99777C5.00053 2.8944 4.10356 1.99732 3.00032 1.99732C1.89708 1.99732 1.00011 2.8944 1.00011 3.99777C1.00011 5.10114 1.89708 5.99821 3.00032 5.99821ZM10.0011 6.99844C10.0604 6.99844 10.1167 6.98281 10.1761 6.97968C10.4355 6.30141 10.8168 5.66376 11.3106 5.12927C11.5418 4.87921 11.87 4.73543 12.2138 4.73543C12.4294 4.73543 12.642 4.79169 12.8264 4.90109L13.0733 5.04488C13.0983 5.02925 13.1233 5.01675 13.1483 5.00112C13.367 4.54476 13.4983 4.0384 13.4983 3.50078C13.4983 1.56597 11.9325 0 9.99793 0C8.06335 0 6.50069 1.56285 6.50069 3.49766C6.50069 5.43246 8.06648 6.99844 10.0011 6.99844ZM13.2889 13.0779C13.217 13.0404 13.1451 12.9967 13.0764 12.956C12.8201 13.1061 12.5982 13.2623 12.2169 13.2623C11.8763 13.2623 11.5481 13.1186 11.3137 12.8685C10.7418 12.2496 10.3042 11.4963 10.0573 10.693C9.7229 9.61465 10.8355 9.13954 10.8636 9.12079C10.8605 9.03952 10.8605 8.95825 10.8636 8.87698L10.6167 8.7332C10.498 8.66443 10.398 8.57691 10.3105 8.48002C10.2073 8.48627 10.1073 8.49877 10.0042 8.49877C9.23535 8.49877 8.51652 8.31123 7.86333 7.99866H7.60393C5.61309 7.99866 4.00042 9.61152 4.00042 11.5995V12.4997C4.00042 13.328 4.67237 14 5.50058 14H13.4827C13.367 13.8125 13.2889 13.5999 13.2889 13.3655V13.0779ZM5.40995 7.57982C5.04741 7.22036 4.55048 6.99844 4.00042 6.99844H2.00021C0.89697 6.99844 0 7.89551 0 8.99888V9.99911C0 10.5524 0.446922 10.9993 1.00011 10.9993H3.0597C3.25659 9.51775 4.15044 8.2706 5.40995 7.57982Z" fill="#333333"/>
</svg>
          <span>Roles</span>
        </div>
      </div>

      <!-- Additional Actions Section -->
      <div class="popup-section">
        <div class="section-title">Additional Actions</div>
         <div class="popup-button" (click)="CreateWFEmailTemplate(); closeActionsPopup()">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17" fill="none">
  <path d="M1.81818 17C1.31818 17 0.890303 16.8152 0.534545 16.4456C0.178788 16.076 0.000606061 15.6312 0 15.1111V3.30556H1.81818V15.1111H16.8182V17H1.81818ZM5.45455 13.2222C4.95455 13.2222 4.52667 13.0374 4.17091 12.6678C3.81515 12.2982 3.63697 11.8534 3.63636 11.3333V1.88889C3.63636 1.36944 3.81454 0.924926 4.17091 0.555333C4.52727 0.185741 4.95515 0.00062963 5.45455 0H18.1818C18.6818 0 19.11 0.185111 19.4664 0.555333C19.8227 0.925556 20.0006 1.37007 20 1.88889V11.3333C20 11.8528 19.8221 12.2976 19.4664 12.6678C19.1106 13.0381 18.6824 13.2229 18.1818 13.2222H5.45455ZM11.8182 8.78333L18.1818 4.17917V1.88889L11.8182 6.46944L5.45455 1.88889V4.17917L11.8182 8.78333Z" fill="black"/>
</svg>
          <span>Email Template</span>
        </div>
        <!-- <div class="popup-button" (click)="generateXML();">
          <i class="fas fa-code"></i>
          <span>Generate JSON</span>
        </div>
        
        <div class="popup-button" (click)="ExportWF();">
          <i class="fas fa-download"></i>
          <span>Export WF</span>
        </div> -->
        <!-- <div class="popup-button" (click)="OpenGridConfigStaticCol();">
          <i class="fas fa-cog"></i>
          <span>Grid Static Columns</span>
        </div> -->
        <!-- <div class="popup-button" (click)="openJsonImportModal(jsonModalTemplate);">
          <i class="fas fa-upload"></i>
          <span>Import WF JSON</span>
        </div>
        <div class="popup-button" (click)="goToVersionGrid();">
          <i class="fas fa-eye"></i>
          <span>Live Version</span> 
        </div>-->
        
      </div>
      <div class="popup-section">
        <div class="popup-button" (click)="showDeleteMessage(); closeActionsPopup()">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20" fill="none">
  <path d="M1.71429 18.125C1.71429 18.6223 1.90619 19.0992 2.24777 19.4508C2.58935 19.8025 3.05264 20 3.53571 20H14.4643C14.9474 20 15.4106 19.8025 15.7522 19.4508C16.0938 19.0992 16.2857 18.6223 16.2857 18.125V5H1.71429V18.125ZM12.0357 8.125C12.0357 7.95924 12.0997 7.80027 12.2135 7.68306C12.3274 7.56585 12.4818 7.5 12.6429 7.5C12.8039 7.5 12.9583 7.56585 13.0722 7.68306C13.186 7.80027 13.25 7.95924 13.25 8.125V16.875C13.25 17.0408 13.186 17.1997 13.0722 17.3169C12.9583 17.4342 12.8039 17.5 12.6429 17.5C12.4818 17.5 12.3274 17.4342 12.2135 17.3169C12.0997 17.1997 12.0357 17.0408 12.0357 16.875V8.125ZM8.39286 8.125C8.39286 7.95924 8.45682 7.80027 8.57069 7.68306C8.68455 7.56585 8.83898 7.5 9 7.5C9.16103 7.5 9.31545 7.56585 9.42932 7.68306C9.54318 7.80027 9.60714 7.95924 9.60714 8.125V16.875C9.60714 17.0408 9.54318 17.1997 9.42932 17.3169C9.31545 17.4342 9.16103 17.5 9 17.5C8.83898 17.5 8.68455 17.4342 8.57069 17.3169C8.45682 17.1997 8.39286 17.0408 8.39286 16.875V8.125ZM4.75 8.125C4.75 7.95924 4.81397 7.80027 4.92783 7.68306C5.04169 7.56585 5.19612 7.5 5.35714 7.5C5.51817 7.5 5.6726 7.56585 5.78646 7.68306C5.90032 7.80027 5.96429 7.95924 5.96429 8.125V16.875C5.96429 17.0408 5.90032 17.1997 5.78646 17.3169C5.6726 17.4342 5.51817 17.5 5.35714 17.5C5.19612 17.5 5.04169 17.4342 4.92783 17.3169C4.81397 17.1997 4.75 17.0408 4.75 16.875V8.125ZM16.8929 1.25001H12.3393L11.9826 0.519538C11.907 0.363372 11.7906 0.232008 11.6465 0.140225C11.5024 0.0484421 11.3362 -0.00011828 11.1667 6.84872e-06H6.82946C6.66037 -0.000662313 6.49451 0.047717 6.35089 0.139602C6.20726 0.231487 6.09169 0.363161 6.01741 0.519538L5.66071 1.25001H1.10714C0.946119 1.25001 0.791689 1.31585 0.677828 1.43306C0.563967 1.55027 0.5 1.70925 0.5 1.87501L0.5 3.12501C0.5 3.29077 0.563967 3.44974 0.677828 3.56695C0.791689 3.68416 0.946119 3.75001 1.10714 3.75001H16.8929C17.0539 3.75001 17.2083 3.68416 17.3222 3.56695C17.436 3.44974 17.5 3.29077 17.5 3.12501V1.87501C17.5 1.70925 17.436 1.55027 17.3222 1.43306C17.2083 1.31585 17.0539 1.25001 16.8929 1.25001Z" fill="#EB583B"/>
</svg>
          <span style="color: #EB583B;">Delete</span>
        </div>
      </div>
      <!-- Status & Mode Controls -->
      <!-- <div class="popup-section">
        <div class="section-title">Controls</div>
        <div class="popup-control">
          <label>Change Status:</label>
          <select name="ChangeStatus" formControlName="CangeStatus" (change)="ChangeStatus($event)" class="form-control">
            <option value="-1">Change Status</option>
            <option value="1">Active</option>
            <option value="0">Inactive</option>
          </select>
        </div>
        <div class="popup-control">
          <label>Change Mode:</label>
          <select name="ChangeMode" formControlName="ChangeMode" (change)="ChangeMode($event)" class="form-control">
            <option value="-1">Change Mode</option>
            <option value="Edit">Edit</option>
            <option value="Published">Published</option>
          </select>
        </div>
      </div> -->
    </form>
  </div>
      <div class="Strip">
      <button *ngIf="!isLoading && (!dataSource?.length && (!bodyData?.GridFilters || bodyData.GridFilters.length === 0))" (click)="CreateNewRecord(null)" title="Add Workflow" class="icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="19" height="18" viewBox="0 0 19 18" fill="none">
          <path
            d="M16.851 7.07143H11.0653V1.28571C11.0653 0.575759 10.4895 0 9.77958 0H8.49386C7.78391 0 7.20815 0.575759 7.20815 1.28571V7.07143H1.42243C0.712478 7.07143 0.136719 7.64719 0.136719 8.35714V9.64286C0.136719 10.3528 0.712478 10.9286 1.42243 10.9286H7.20815V16.7143C7.20815 17.4242 7.78391 18 8.49386 18H9.77958C10.4895 18 11.0653 17.4242 11.0653 16.7143V10.9286H16.851C17.561 10.9286 18.1367 10.3528 18.1367 9.64286V8.35714C18.1367 7.64719 17.561 7.07143 16.851 7.07143Z"
            fill="white" />
        </svg>
      </button>
      <button title="Export this grid" (click)="openExportGridConfigurationPopup('Excel')" class="icon"><svg xmlns="http://www.w3.org/2000/svg" width="19" height="24" viewBox="0 0 19 24" fill="none">
          <path
            d="M10.6367 6.375V0H1.26172C0.638281 0 0.136719 0.501562 0.136719 1.125V22.875C0.136719 23.4984 0.638281 24 1.26172 24H17.0117C17.6352 24 18.1367 23.4984 18.1367 22.875V7.5H11.7617C11.143 7.5 10.6367 6.99375 10.6367 6.375ZM13.4539 11.3672L10.6367 15.75L13.4539 20.1328C13.693 20.5078 13.4258 21 12.9805 21H11.3445C11.1383 21 10.9461 20.8875 10.8477 20.7047C9.92891 19.0078 9.13672 17.4844 9.13672 17.4844C8.83672 18.1781 8.66797 18.4219 7.42109 20.7094C7.32266 20.8922 7.13516 21.0047 6.92891 21.0047H5.29297C4.84766 21.0047 4.58047 20.5125 4.81953 20.1375L7.64609 15.7547L4.81953 11.3719C4.57578 10.9969 4.84766 10.5047 5.29297 10.5047H6.92422C7.13047 10.5047 7.32266 10.6172 7.42109 10.8C8.64453 13.0875 8.35859 12.375 9.13672 14.0109C9.13672 14.0109 9.42266 13.4625 10.8523 10.8C10.9508 10.6172 11.143 10.5047 11.3492 10.5047H12.9805C13.4258 10.5 13.693 10.9922 13.4539 11.3672ZM18.1367 5.71406V6H12.1367V0H12.4227C12.7227 0 13.0086 0.117188 13.2195 0.328125L17.8086 4.92188C18.0195 5.13281 18.1367 5.41875 18.1367 5.71406Z"
            fill="white" />
        </svg></button>
      <button title="Import Workflow" (click)="openBulkUpload(bulkUpload)" class="icon"><svg xmlns="http://www.w3.org/2000/svg" width="19" height="22" viewBox="0 0 19 22" fill="none">
          <path
            d="M0.699219 15.125C0.389844 15.125 0.136719 15.3781 0.136719 15.6875V16.8125C0.136719 17.1219 0.389844 17.375 0.699219 17.375H4.63672V15.125H0.699219ZM17.8906 4.19141L14.4488 0.746094C14.2906 0.587891 14.0762 0.5 13.8512 0.5H13.6367V5H18.1367V4.78555C18.1367 4.56406 18.0488 4.34961 17.8906 4.19141ZM12.5117 5.28125V0.5H5.48047C5.01289 0.5 4.63672 0.876172 4.63672 1.34375V15.125H9.13672V12.8328C9.13672 12.3301 9.74492 12.0805 10.1 12.4355L11.7805 14.1318L13.4609 15.8281C13.693 16.0637 13.693 16.4398 13.4609 16.6719L10.0965 20.0609C9.74141 20.416 9.1332 20.1664 9.1332 19.6637V17.375H4.63672V20.6562C4.63672 21.1238 5.01289 21.5 5.48047 21.5H17.293C17.7605 21.5 18.1367 21.1238 18.1367 20.6562V6.125H13.3555C12.8914 6.125 12.5117 5.74531 12.5117 5.28125Z"
            fill="white" />
        </svg></button>
        <button title="Grid Static Columns" (click)="OpenGridConfigStaticCol()" class="icon"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
            viewBox="0 0 20 20" fill="none">
            <path
              d="M7 1V19M13 1V19M3 1H17C18.1046 1 19 1.89543 19 3V17C19 18.1046 18.1046 19 17 19H3C1.89543 19 1 18.1046 1 17V3C1 1.89543 1.89543 1 3 1Z"
              stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
          </svg></button>
        <button title="Role Permissions" (click)="OpenAdditionalPermission()" class="icon"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="14"
            viewBox="0 0 18 14" fill="none">
            <path
              d="M6.30025 6.99983C8.28876 6.99983 9.90039 5.43307 9.90039 3.49992C9.90039 1.56676 8.28876 0 6.30025 0C4.31173 0 2.70011 1.56676 2.70011 3.49992C2.70011 5.43307 4.31173 6.99983 6.30025 6.99983ZM8.82034 7.87481H8.35064C7.72624 8.15371 7.03152 8.3123 6.30025 8.3123C5.56897 8.3123 4.87707 8.15371 4.24985 7.87481H3.78015C1.69319 7.87481 0 9.52087 0 11.5497V12.6872C0 13.4118 0.604711 13.9997 1.35005 13.9997H9.08192C9.01441 13.8137 8.98629 13.6169 9.00879 13.4173L9.20005 11.7521L9.2338 11.4486L9.45599 11.2325L11.6301 9.11892C10.9411 8.36152 9.94258 7.87481 8.82034 7.87481ZM10.0945 11.8478L9.9032 13.5157C9.87226 13.7946 10.1141 14.0297 10.3982 13.9969L12.1111 13.811L15.9897 10.0404L13.973 8.07989L10.0945 11.8478ZM17.8038 7.35256L16.7378 6.31626C16.4763 6.06197 16.0487 6.06197 15.7872 6.31626L14.724 7.34982L14.6087 7.46193L16.6281 9.42243L17.8038 8.27949C18.0654 8.02247 18.0654 7.60958 17.8038 7.35256Z"
              fill="white" />
          </svg></button>
      <button (click)="goToVersionGrid()" title="Change Mode" class="icon"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="16" viewBox="0 0 22 16" fill="none">
          <g clip-path="url(#clip0_11061_81599)">
            <path
              d="M11.9428 9.32366C11.7619 9.50674 11.5552 9.64405 11.3323 9.73559C11.1094 9.82713 10.8736 9.8729 10.6378 9.8729C10.4019 9.8729 10.1661 9.82713 9.94325 9.73559C9.72036 9.64405 9.51362 9.50674 9.33272 9.32366C9.15183 9.14058 9.01616 8.93134 8.92571 8.70576C8.83526 8.48018 8.79004 8.24152 8.79004 8.00286C8.79004 7.7642 8.83526 7.52554 8.92571 7.29996C9.01616 7.07437 9.15183 6.86514 9.33272 6.68206C9.51362 6.49898 9.72036 6.36166 9.94325 6.27012C10.1661 6.17858 10.4019 6.13281 10.6378 6.13281C10.8736 6.13281 11.1094 6.17858 11.3323 6.27012C11.5552 6.36166 11.7619 6.49898 11.9428 6.68206C12.1237 6.86514 12.2594 7.07437 12.3498 7.29996C12.4402 7.52554 12.4855 7.7642 12.4855 8.00286C12.4855 8.24152 12.4402 8.48018 12.3498 8.70576C12.2594 8.93134 12.1237 9.14058 11.9428 9.32366Z"
              fill="white" />
            <path
              d="M12.6862 11.1445C12.6862 10.9778 12.7476 10.8111 12.8735 10.6836C13.2321 10.3207 13.5099 9.89892 13.6973 9.42814C13.8782 8.97371 13.9718 8.49312 13.9718 7.99945C13.9718 7.50579 13.8782 7.0252 13.6973 6.57076C13.5099 6.09998 13.2321 5.67824 12.8735 5.31535C12.6216 5.06034 12.6216 4.64841 12.8735 4.3934C13.1255 4.1384 13.5325 4.1384 13.7845 4.3934C14.2658 4.88053 14.6373 5.44612 14.8925 6.08037C15.138 6.69173 15.2607 7.33578 15.2607 7.99945C15.2607 8.66312 15.138 9.30718 14.8925 9.91854C14.6373 10.5528 14.2658 11.1184 13.7845 11.6055C13.5325 11.8605 13.1255 11.8605 12.8735 11.6055C12.7476 11.478 12.6862 11.3113 12.6862 11.1445Z"
              fill="white" />
            <path
              d="M14.7663 13.2473C14.7663 13.0806 14.8276 12.9138 14.9536 12.7863C15.5932 12.139 16.0874 11.3871 16.4234 10.5468C16.7497 9.73606 16.9144 8.8795 16.9144 8.00005C16.9144 7.12061 16.7497 6.26405 16.4234 5.45326C16.0874 4.61305 15.5932 3.86111 14.9536 3.21379C14.7017 2.95878 14.7017 2.54685 14.9536 2.29184C15.2056 2.03683 15.6126 2.03683 15.8646 2.29184C16.6269 3.0634 17.2148 3.95919 17.6154 4.96287C18.003 5.93058 18.2 6.95061 18.2 8.00005C18.2 9.0495 18.003 10.0695 17.6154 11.0372C17.2148 12.0377 16.6237 12.9367 15.8646 13.7083C15.6126 13.9633 15.2056 13.9633 14.9536 13.7083C14.8276 13.5808 14.7663 13.414 14.7663 13.2473Z"
              fill="white" />
            <path
              d="M16.8434 15.3491C16.8434 15.1824 16.9048 15.0156 17.0308 14.8881C17.9514 13.9564 18.6621 12.8742 19.1466 11.6646C19.615 10.4974 19.8508 9.2649 19.8508 7.99968C19.8508 6.73446 19.615 5.50193 19.1466 4.33479C18.6621 3.12514 17.9514 2.043 17.0308 1.11125C16.7788 0.856241 16.7788 0.444308 17.0308 0.189301C17.2827 -0.0657047 17.6897 -0.0657047 17.9417 0.189301C18.9819 1.24202 19.7894 2.47128 20.3386 3.84439C20.8683 5.16846 21.1364 6.56446 21.1364 7.99968C21.1364 9.43491 20.8683 10.8309 20.3386 12.155C19.7894 13.5248 18.9819 14.7541 17.9417 15.8101C17.6897 16.0651 17.2827 16.0651 17.0308 15.8101C16.9048 15.6826 16.8434 15.5158 16.8434 15.3491Z"
              fill="white" />
            <path
              d="M8.58692 4.85438C8.58692 5.02111 8.52555 5.18785 8.39957 5.31535C8.04101 5.67824 7.7632 6.09998 7.57585 6.57076C7.39495 7.0252 7.30127 7.50579 7.30127 7.99945C7.30127 8.49312 7.39495 8.97371 7.57585 9.42814C7.7632 9.89892 8.04101 10.3207 8.39957 10.6836C8.65153 10.9386 8.65153 11.3505 8.39957 11.6055C8.1476 11.8605 7.74059 11.8605 7.48863 11.6055C7.00732 11.1184 6.63584 10.5528 6.38388 9.91854C6.13838 9.30718 6.01562 8.66312 6.01562 7.99945C6.01562 7.33578 6.13838 6.69173 6.38388 6.08037C6.63584 5.44612 7.01055 4.88053 7.48863 4.3934C7.74059 4.1384 8.1476 4.1384 8.39957 4.3934C8.52555 4.52091 8.58692 4.68764 8.58692 4.85438Z"
              fill="white" />
            <path
              d="M6.50995 2.75281C6.50995 2.91955 6.44858 3.08628 6.3226 3.21379C5.683 3.86111 5.18877 4.61305 4.85282 5.45326C4.52656 6.26405 4.36182 7.12061 4.36182 8.00005C4.36182 8.8795 4.52656 9.73606 4.85282 10.5468C5.18877 11.3871 5.683 12.139 6.3226 12.7863C6.57456 13.0413 6.57456 13.4533 6.3226 13.7083C6.07063 13.9633 5.66362 13.9633 5.41166 13.7083C4.64931 12.9367 4.0614 12.0409 3.66085 11.0372C3.27322 10.0695 3.07617 9.0495 3.07617 8.00005C3.07617 6.95061 3.27322 5.93058 3.66085 4.96287C4.0614 3.96246 4.65254 3.0634 5.41166 2.29184C5.66362 2.03683 6.07063 2.03683 6.3226 2.29184C6.44858 2.41934 6.50995 2.58608 6.50995 2.75281Z"
              fill="white" />
            <path
              d="M4.43268 0.650274C4.43268 0.817009 4.3713 0.983744 4.24532 1.11125C3.3247 2.043 2.61404 3.12514 2.1295 4.33479C1.66111 5.50193 1.4253 6.73446 1.4253 7.99968C1.4253 9.2649 1.66111 10.4974 2.1295 11.6646C2.61404 12.871 3.3247 13.9564 4.24532 14.8881C4.49728 15.1431 4.49728 15.5551 4.24532 15.8101C3.99336 16.0651 3.58635 16.0651 3.33439 15.8101C2.29424 14.7573 1.48667 13.5281 0.937526 12.155C0.407761 10.8309 0.139648 9.43491 0.139648 7.99968C0.139648 6.56445 0.407761 5.16846 0.937526 3.84439C1.48344 2.47455 2.29101 1.24529 3.33116 0.189301C3.58312 -0.0657047 3.99013 -0.0657047 4.24209 0.189301C4.36807 0.316805 4.42945 0.483539 4.42945 0.650274H4.43268Z"
              fill="white" />
          </g>
          <defs>
            <clipPath id="clip0_11061_81599">
              <rect width="21" height="16" fill="white" transform="translate(0.136719)" />
            </clipPath>
          </defs>
        </svg></button>
    </div>
    <div class="p-1"></div>
    <div class="grid">
<generic-grid [dataSource]="dataSource" [headerMap]="HeaderMap" [itemsCount]="itemsCount"
  (actionClick)="actionClick($event)" (actionsMenuOpen)="onActionsMenuOpen($event)" (pageChange)="pageChange($event)"
  [sNo]="false" (actionsMenuOpen)="openActionsPopupAt($event)"></generic-grid>

</div>
<ng-template #bulkUpload let-modal>
  <div class="modal-header">
    <h4 class="modal-titlewf" id="modal-basic-title">Upload Workflow File</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true" class="fas fa-times-circle fa-fw"></span>
    </button>
  </div>
  <div class="modal-body">
    <form>
      <div class="form-group">
        <div class="custom-file">
          <input type="file" (change)="handleFileInput($event.target.files)" id="fileupload" class="custom-file-input"
            accept=".json,application/json,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel">
          <label class="custom-file-label" for='fileupload'></label>
        </div>
        <div class="input-group">
          <span>{{fileName}}</span>
        </div>
        <div class="input-group">
          <span style="color: #dc3545;" *ngIf="IsValidFile">{{errorMsg}}</span>
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary btn-sm" style="color: white;" (click)="downloadTemplate()">Download Excel
      Template</button>
    <button type="button" class="btn btn-primary btn-sm" style="color: white;" [disabled]="IsValidFile" (click)="upload()">Upload</button>
  </div>
</ng-template>

</div>
