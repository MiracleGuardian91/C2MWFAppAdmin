<div class="popup">
  <div class="popup__header">
    <h2 *ngIf="newObject">New {{title}}</h2>
    <h2 *ngIf="!newObject">{{title}} Details</h2>
    <span class="popup__close"><i class="fas fa-times-circle fa-fw" (click)="ref.close()"></i></span>
  </div>
  <hr>
  
  <form [formGroup]="form">
    <div class="double-column">
      <ng-container *ngFor="let control of controls">
        <app-object-control
          *ngIf="control.show | async"
          [config]="control"
          [parentForm]="form"
          [class]="control.class"
        ></app-object-control>
      </ng-container>
    </div>
  
    <div class="popup__actions">
      <button class="btn btn-light btn-sm" type="button" (click)="onCancel()">Cancel</button>
      <button class="btn btn-primary btn-sm" type="submit" (click)="onSubmit()" *ngIf="!data.published">
        <ng-container *ngIf="newObject">Create</ng-container>
        <ng-container *ngIf="!newObject">Update</ng-container> 
      </button>
    </div>
  
  </form>
</div>
