{
  "version": 3,
  "sources": ["../../../../../../node_modules/bpmn-js/lib/draw/BpmnRenderUtil.js"],
  "sourcesContent": ["import { has, some } from 'min-dash';\nimport { getDi } from '../util/ModelUtil';\nimport { componentsToPath } from 'diagram-js/lib/util/RenderUtil';\n\n/**\n * @typedef {import('../model').ModdleElement} ModdleElement\n * @typedef {import('../model').Element} Element\n *\n * @typedef {import('../model').ShapeLike} ShapeLike\n *\n * @typedef {import('diagram-js/lib/util/Types').Dimensions} Dimensions\n * @typedef {import('diagram-js/lib/util/Types').Rect} Rect\n */\n\n// re-export for compatibility\nexport { getDi, getBusinessObject as getSemantic } from '../util/ModelUtil';\nexport var black = 'hsl(225, 10%, 15%)';\nexport var white = 'white';\n\n// element utils //////////////////////\n\n/**\n * Checks if eventDefinition of the given element matches with semantic type.\n *\n * @param {ModdleElement} event\n * @param {string} eventDefinitionType\n *\n * @return {boolean}\n */\nexport function isTypedEvent(event, eventDefinitionType) {\n  return some(event.eventDefinitions, function (definition) {\n    return definition.$type === eventDefinitionType;\n  });\n}\n\n/**\n * Check if element is a throw event.\n *\n * @param {ModdleElement} event\n *\n * @return {boolean}\n */\nexport function isThrowEvent(event) {\n  return event.$type === 'bpmn:IntermediateThrowEvent' || event.$type === 'bpmn:EndEvent';\n}\n\n/**\n * Check if element is a throw event.\n *\n * @param {ModdleElement} element\n *\n * @return {boolean}\n */\nexport function isCollection(element) {\n  var dataObject = element.dataObjectRef;\n  return element.isCollection || dataObject && dataObject.isCollection;\n}\n\n// color access //////////////////////\n\n/**\n * @param {Element} element\n * @param {string} [defaultColor]\n * @param {string} [overrideColor]\n *\n * @return {string}\n */\nexport function getFillColor(element, defaultColor, overrideColor) {\n  var di = getDi(element);\n  return overrideColor || di.get('color:background-color') || di.get('bioc:fill') || defaultColor || white;\n}\n\n/**\n * @param {Element} element\n * @param {string} [defaultColor]\n * @param {string} [overrideColor]\n *\n * @return {string}\n */\nexport function getStrokeColor(element, defaultColor, overrideColor) {\n  var di = getDi(element);\n  return overrideColor || di.get('color:border-color') || di.get('bioc:stroke') || defaultColor || black;\n}\n\n/**\n * @param {Element} element\n * @param {string} [defaultColor]\n * @param {string} [defaultStrokeColor]\n * @param {string} [overrideColor]\n *\n * @return {string}\n */\nexport function getLabelColor(element, defaultColor, defaultStrokeColor, overrideColor) {\n  var di = getDi(element),\n    label = di.get('label');\n  return overrideColor || label && label.get('color:color') || defaultColor || getStrokeColor(element, defaultStrokeColor);\n}\n\n// cropping path customizations //////////////////////\n\n/**\n * @param {ShapeLike} shape\n *\n * @return {string} path\n */\nexport function getCirclePath(shape) {\n  var cx = shape.x + shape.width / 2,\n    cy = shape.y + shape.height / 2,\n    radius = shape.width / 2;\n  var circlePath = [['M', cx, cy], ['m', 0, -radius], ['a', radius, radius, 0, 1, 1, 0, 2 * radius], ['a', radius, radius, 0, 1, 1, 0, -2 * radius], ['z']];\n  return componentsToPath(circlePath);\n}\n\n/**\n * @param {ShapeLike} shape\n * @param {number} [borderRadius]\n *\n * @return {string} path\n */\nexport function getRoundRectPath(shape, borderRadius) {\n  var x = shape.x,\n    y = shape.y,\n    width = shape.width,\n    height = shape.height;\n  var roundRectPath = [['M', x + borderRadius, y], ['l', width - borderRadius * 2, 0], ['a', borderRadius, borderRadius, 0, 0, 1, borderRadius, borderRadius], ['l', 0, height - borderRadius * 2], ['a', borderRadius, borderRadius, 0, 0, 1, -borderRadius, borderRadius], ['l', borderRadius * 2 - width, 0], ['a', borderRadius, borderRadius, 0, 0, 1, -borderRadius, -borderRadius], ['l', 0, borderRadius * 2 - height], ['a', borderRadius, borderRadius, 0, 0, 1, borderRadius, -borderRadius], ['z']];\n  return componentsToPath(roundRectPath);\n}\n\n/**\n * @param {ShapeLike} shape\n *\n * @return {string} path\n */\nexport function getDiamondPath(shape) {\n  var width = shape.width,\n    height = shape.height,\n    x = shape.x,\n    y = shape.y,\n    halfWidth = width / 2,\n    halfHeight = height / 2;\n  var diamondPath = [['M', x + halfWidth, y], ['l', halfWidth, halfHeight], ['l', -halfWidth, halfHeight], ['l', -halfWidth, -halfHeight], ['z']];\n  return componentsToPath(diamondPath);\n}\n\n/**\n * @param {ShapeLike} shape\n *\n * @return {string} path\n */\nexport function getRectPath(shape) {\n  var x = shape.x,\n    y = shape.y,\n    width = shape.width,\n    height = shape.height;\n  var rectPath = [['M', x, y], ['l', width, 0], ['l', 0, height], ['l', -width, 0], ['z']];\n  return componentsToPath(rectPath);\n}\n\n/**\n * Get width and height from element or overrides.\n *\n * @param {Dimensions|Rect|ShapeLike} bounds\n * @param {Object} overrides\n *\n * @returns {Dimensions}\n */\nexport function getBounds(bounds, overrides = {}) {\n  return {\n    width: getWidth(bounds, overrides),\n    height: getHeight(bounds, overrides)\n  };\n}\n\n/**\n * Get width from element or overrides.\n *\n * @param {Dimensions|Rect|ShapeLike} bounds\n * @param {Object} overrides\n *\n * @returns {number}\n */\nexport function getWidth(bounds, overrides = {}) {\n  return has(overrides, 'width') ? overrides.width : bounds.width;\n}\n\n/**\n * Get height from element or overrides.\n *\n * @param {Dimensions|Rect|ShapeLike} bounds\n * @param {Object} overrides\n *\n * @returns {number}\n */\nexport function getHeight(bounds, overrides = {}) {\n  return has(overrides, 'height') ? overrides.height : bounds.height;\n}"],
  "mappings": "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",
  "names": []
}
